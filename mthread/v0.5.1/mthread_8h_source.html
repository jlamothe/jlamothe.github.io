<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>mthread: mthread.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">mthread
   &#160;<span id="projectnumber">0.5.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">mthread.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="mthread_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// -*- mode: c++ -*-</span>
<a name="l00002"></a>00002 
<a name="l00005"></a>00005 
<a name="l00006"></a>00006 <span class="comment">// Arduino Multi-Threading Library (mthread)</span>
<a name="l00007"></a>00007 
<a name="l00008"></a>00008 <span class="comment">// Copyright (C) 2010-2012 Jonathan Lamothe &lt;jonathan@jlamothe.net&gt;</span>
<a name="l00009"></a>00009 
<a name="l00010"></a>00010 <span class="comment">// This program is free software: you can redistribute it and/or</span>
<a name="l00011"></a>00011 <span class="comment">// modify it under the terms of the GNU Lesser General Public License</span>
<a name="l00012"></a>00012 <span class="comment">// as published by the Free Software Foundation, either version 3 of</span>
<a name="l00013"></a>00013 <span class="comment">// the License, or (at your option) any later version.</span>
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 <span class="comment">// This program is distributed in the hope that it will be useful, but</span>
<a name="l00016"></a>00016 <span class="comment">// WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00017"></a>00017 <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<a name="l00018"></a>00018 <span class="comment">// Lesser General Public License for more details.</span>
<a name="l00019"></a>00019 
<a name="l00020"></a>00020 <span class="comment">// You should have received a copy of the GNU Lesser General Public</span>
<a name="l00021"></a>00021 <span class="comment">// License along with this program.  If not, see:</span>
<a name="l00022"></a>00022 <span class="comment">// http://www.gnu.org/licenses/</span>
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 <span class="preprocessor">#ifndef MTHREAD_H</span>
<a name="l00025"></a>00025 <span class="preprocessor"></span><span class="preprocessor">#define MTHREAD_H</span>
<a name="l00026"></a>00026 <span class="preprocessor"></span>
<a name="l00027"></a>00027 <span class="comment">//</span>
<a name="l00028"></a>00028 <span class="comment">// INCLUDES</span>
<a name="l00029"></a>00029 <span class="comment">//</span>
<a name="l00030"></a>00030 
<a name="l00031"></a>00031 <span class="preprocessor">#include &quot;../newdel/newdel.h&quot;</span>
<a name="l00032"></a>00032 
<a name="l00034"></a><a class="code" href="mthread_8h.html#ae7e5119fbbe968adf287fd16f5fe995d">00034</a> <span class="preprocessor">#define DEFAULT_DEBOUNCE 50</span>
<a name="l00035"></a>00035 <span class="preprocessor"></span>
<a name="l00036"></a>00036 <span class="keyword">class </span><a class="code" href="classThreadList.html" title="An object for running several Thread objects simultaneously. A ThreadList object is a Thread in and o...">ThreadList</a>;
<a name="l00037"></a>00037 <span class="keywordtype">void</span> <a class="code" href="classThreadList.html#aa3ef18be69ac4b47736cc5e3f5a1b413" title="The main loop.">loop</a>(<span class="keywordtype">void</span>);
<a name="l00038"></a>00038 
<a name="l00039"></a>00039 <span class="comment">//</span>
<a name="l00040"></a>00040 <span class="comment">// CLASSES</span>
<a name="l00041"></a>00041 <span class="comment">//</span>
<a name="l00042"></a>00042 
<a name="l00044"></a><a class="code" href="classThread.html">00044</a> <span class="keyword">class </span><a class="code" href="classThread.html" title="Provides thread functionality.">Thread</a>
<a name="l00045"></a>00045 {
<a name="l00046"></a>00046 <span class="keyword">public</span>:
<a name="l00047"></a>00047 
<a name="l00049"></a><a class="code" href="classThread.html#a7ab6ecbe21a1df0ec49eee0890aedb70">00049</a>     <span class="keyword">enum</span> <a class="code" href="classThread.html#a7ab6ecbe21a1df0ec49eee0890aedb70" title="Various running modes for a Thread.">Mode</a>
<a name="l00050"></a>00050     {
<a name="l00051"></a>00051 
<a name="l00053"></a><a class="code" href="classThread.html#a7ab6ecbe21a1df0ec49eee0890aedb70abb567261610a12a03cbe01f34ef07021">00053</a>         <a class="code" href="classThread.html#a7ab6ecbe21a1df0ec49eee0890aedb70abb567261610a12a03cbe01f34ef07021" title="Thread is running.">run_mode</a>,
<a name="l00054"></a>00054 
<a name="l00056"></a><a class="code" href="classThread.html#a7ab6ecbe21a1df0ec49eee0890aedb70ae080084eb5d9ed52d532d5bf6e919816">00056</a>         <a class="code" href="classThread.html#a7ab6ecbe21a1df0ec49eee0890aedb70ae080084eb5d9ed52d532d5bf6e919816" title="Thread is paused.">pause_mode</a>,
<a name="l00057"></a>00057 
<a name="l00059"></a><a class="code" href="classThread.html#a7ab6ecbe21a1df0ec49eee0890aedb70a8c7d689426e8d4b068294a81e122fa1b">00059</a>         <a class="code" href="classThread.html#a7ab6ecbe21a1df0ec49eee0890aedb70a8c7d689426e8d4b068294a81e122fa1b" title="Thread is sleeping (for seconds).">sleep_mode</a>,
<a name="l00060"></a>00060 
<a name="l00062"></a><a class="code" href="classThread.html#a7ab6ecbe21a1df0ec49eee0890aedb70ae3239eaa61339d56eb0f686fe3990a82">00062</a>         <a class="code" href="classThread.html#a7ab6ecbe21a1df0ec49eee0890aedb70ae3239eaa61339d56eb0f686fe3990a82" title="Thread is sleeping (for milliseconds).">sleep_milli_mode</a>,
<a name="l00063"></a>00063 
<a name="l00065"></a><a class="code" href="classThread.html#a7ab6ecbe21a1df0ec49eee0890aedb70ab6de7e9d624892b31d2fb7b1fc8cf2e9">00065</a>         <a class="code" href="classThread.html#a7ab6ecbe21a1df0ec49eee0890aedb70ab6de7e9d624892b31d2fb7b1fc8cf2e9" title="Thread is sleeping (for microseconds).">sleep_micro_mode</a>,
<a name="l00066"></a>00066 
<a name="l00068"></a><a class="code" href="classThread.html#a7ab6ecbe21a1df0ec49eee0890aedb70a36f8d4df8f0c5fc5b131ed7408b7ece0">00068</a>         <a class="code" href="classThread.html#a7ab6ecbe21a1df0ec49eee0890aedb70a36f8d4df8f0c5fc5b131ed7408b7ece0" title="Thread is to be killed on next call.">kill_mode</a>
<a name="l00069"></a>00069 
<a name="l00070"></a>00070     };
<a name="l00071"></a>00071 
<a name="l00073"></a>00073     <a class="code" href="classThread.html#a95c703fb8f2f27cb64f475a8c940864a" title="Constructor.">Thread</a>();
<a name="l00074"></a>00074 
<a name="l00076"></a>00076     <span class="keyword">virtual</span> <a class="code" href="classThread.html#a37d9edd3a1a776cbc27dedff949c9726" title="Destructor.">~Thread</a>();
<a name="l00077"></a>00077 
<a name="l00080"></a>00080     <a class="code" href="classThread.html#a7ab6ecbe21a1df0ec49eee0890aedb70" title="Various running modes for a Thread.">Mode</a> <a class="code" href="classThread.html#a49ad29c3f4fee8b909f0e5441a994857" title="Returns the running mode for the Thread.">get_mode</a>() <span class="keyword">const</span>;
<a name="l00081"></a>00081 
<a name="l00091"></a>00091     <span class="keywordtype">bool</span> <a class="code" href="classThread.html#a53e9d4adb10c5100c3e65b11acae9d06" title="Kills a Thread.">kill</a>(<span class="keywordtype">bool</span> force = <span class="keyword">false</span>);
<a name="l00092"></a>00092 
<a name="l00097"></a>00097     <span class="keywordtype">bool</span> <a class="code" href="classThread.html#ac6982f9b40917b9bea2eb5bb78359c64" title="Pauses a Thread. This function will cause a Thread to pause until its resume() function is called...">pause</a>();
<a name="l00098"></a>00098 
<a name="l00101"></a>00101     <span class="keywordtype">bool</span> <a class="code" href="classThread.html#a0d307140f60097f8278d145f8ae3eb7c" title="Resumes a paused or sleeping Thread.">resume</a>();
<a name="l00102"></a>00102 
<a name="l00110"></a>00110     <span class="keywordtype">bool</span> <a class="code" href="classThread.html#ac10878d2880c0f9faf49c182c76137e3" title="Puts the Thread to sleep for a certain number of seconds. If already running, the thread&#39;s loop() fun...">sleep</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> t);
<a name="l00111"></a>00111 
<a name="l00119"></a>00119     <span class="keywordtype">bool</span> <a class="code" href="classThread.html#af11a61ca426e9b15c6c6649d0f19ca66" title="Puts the Thread to sleep for a certain number of microseconds. If already running, the thread&#39;s loop() function will be allowed to finish, but will not be called again until the timeout has expired, or the resume() or kill() function has been called.">sleep_micro</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> t);
<a name="l00120"></a>00120 
<a name="l00129"></a>00129     <span class="keywordtype">bool</span> <a class="code" href="classThread.html#a55d998f371e2c658ce7e525f8c25a0d9" title="Puts the Thread to sleep for a certain number of milliseconds. If already running, the thread&#39;s loop() function will be allowed to finish, but will not be called again until the timeout has expired, or the resume() or kill() function has been called.">sleep_milli</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> t);
<a name="l00130"></a>00130 
<a name="l00131"></a>00131 <span class="keyword">protected</span>:
<a name="l00132"></a>00132 
<a name="l00143"></a>00143     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classThread.html#a1186175fd14137e9eead2bd5be429fd9" title="The Thread&#39;s main loop. This function is to be overridden. It takes the place of the loop function fo...">loop</a>();
<a name="l00144"></a>00144 
<a name="l00150"></a><a class="code" href="classThread.html#a82e88eebd44957e65bb075103fb6ca1b">00150</a>     <span class="keywordtype">bool</span> <a class="code" href="classThread.html#a82e88eebd44957e65bb075103fb6ca1b" title="Kill flag. This variable should be checked at the beginning of every loop() function. If it is true, the Thread has been requested to be killed, and the loop() function should behave accordingly. The request can be denied by resetting it to false.">kill_flag</a>;
<a name="l00151"></a>00151 
<a name="l00152"></a>00152 <span class="keyword">private</span>:
<a name="l00153"></a>00153 
<a name="l00162"></a>00162     <span class="keywordtype">bool</span> <a class="code" href="classThread.html#a6799ee26d9bd8ade4e4deb182fa2c6c7" title="Determines if the function is active and runs through a loop if appropriate. This function is called ...">call</a>();
<a name="l00163"></a>00163 
<a name="l00165"></a><a class="code" href="classThread.html#ae56563556356be0f4c00da73578e1e18">00165</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="classThread.html#ae56563556356be0f4c00da73578e1e18" title="The time the thread was stopped at.">stop_time</a>;
<a name="l00166"></a>00166 
<a name="l00168"></a><a class="code" href="classThread.html#a2e838c031a5eda2bb938f67c07daf4dc">00168</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="classThread.html#a2e838c031a5eda2bb938f67c07daf4dc" title="The amount of the the thread is to wait for.">wait_time</a>;
<a name="l00169"></a>00169 
<a name="l00172"></a><a class="code" href="classThread.html#a534b3627f7aff4eabd7d271200b2b0f1">00172</a>     <a class="code" href="classThread.html#a7ab6ecbe21a1df0ec49eee0890aedb70" title="Various running modes for a Thread.">Mode</a> <a class="code" href="classThread.html#a534b3627f7aff4eabd7d271200b2b0f1" title="The thread&#39;s running mode (can be read through the get_mode() function).">mode</a>;
<a name="l00173"></a>00173 
<a name="l00174"></a>00174     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classThreadList.html" title="An object for running several Thread objects simultaneously. A ThreadList object is a Thread in and o...">ThreadList</a>;
<a name="l00175"></a>00175     <span class="keyword">friend</span> <span class="keywordtype">void</span> <a class="code" href="classThread.html#a1186175fd14137e9eead2bd5be429fd9" title="The Thread&#39;s main loop. This function is to be overridden. It takes the place of the loop function fo...">loop</a>(<span class="keywordtype">void</span>);
<a name="l00176"></a>00176 };
<a name="l00177"></a>00177 
<a name="l00188"></a><a class="code" href="classThreadList.html">00188</a> <span class="keyword">class </span><a class="code" href="classThreadList.html" title="An object for running several Thread objects simultaneously. A ThreadList object is a Thread in and o...">ThreadList</a> : <span class="keyword">public</span> <a class="code" href="classThread.html" title="Provides thread functionality.">Thread</a>
<a name="l00189"></a>00189 {
<a name="l00190"></a>00190 <span class="keyword">public</span>:
<a name="l00191"></a>00191 
<a name="l00193"></a>00193 
<a name="l00197"></a>00197     <a class="code" href="classThreadList.html#aa867b6c111fa062798e6f221525df2b6" title="Constructor.">ThreadList</a>(<span class="keywordtype">bool</span> keep = <span class="keyword">false</span>);
<a name="l00198"></a>00198 
<a name="l00200"></a>00200     <a class="code" href="classThreadList.html#ae4618222ad46d497206b89948576c0b2" title="Destructor.">~ThreadList</a>();
<a name="l00201"></a>00201 
<a name="l00205"></a>00205     <span class="keywordtype">bool</span> <a class="code" href="classThreadList.html#abcc5d5e78afd11c7e30682fc3a821aad" title="Adds a Thread to the ThreadList.">add_thread</a>(<a class="code" href="classThread.html" title="Provides thread functionality.">Thread</a> *t);
<a name="l00206"></a>00206 
<a name="l00207"></a>00207 <span class="keyword">protected</span>:
<a name="l00208"></a>00208 
<a name="l00211"></a>00211     <span class="keywordtype">bool</span> <a class="code" href="classThreadList.html#aa3ef18be69ac4b47736cc5e3f5a1b413" title="The main loop.">loop</a>();
<a name="l00212"></a>00212 
<a name="l00213"></a>00213 <span class="keyword">private</span>:
<a name="l00214"></a>00214 
<a name="l00216"></a><a class="code" href="classThreadList.html#a1fdacbceb409ed26edee6938691515d6">00216</a>     <a class="code" href="classThread.html" title="Provides thread functionality.">Thread</a> **<a class="code" href="classThreadList.html#a1fdacbceb409ed26edee6938691515d6" title="An array of pointers to the Thread objects in the list.">thread</a>;
<a name="l00217"></a>00217 
<a name="l00219"></a><a class="code" href="classThreadList.html#a2f0e28cc2d4b25764291f0bb8e192469">00219</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classThreadList.html#a2f0e28cc2d4b25764291f0bb8e192469" title="The number of Thread objects in the list.">thread_count</a>;
<a name="l00220"></a>00220 
<a name="l00222"></a><a class="code" href="classThreadList.html#a2de118ce3406705a616108f9ba73761f">00222</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classThreadList.html#a2de118ce3406705a616108f9ba73761f" title="The index number of the active thread.">thread_index</a>;
<a name="l00223"></a>00223 
<a name="l00226"></a><a class="code" href="classThreadList.html#aafe4d029d4b5bc938f1968c4999d51c8">00226</a>     <span class="keywordtype">bool</span> <a class="code" href="classThreadList.html#aafe4d029d4b5bc938f1968c4999d51c8" title="If true, the ThreadList will not destroy itself when it becomes empty.">keep_flag</a>;
<a name="l00227"></a>00227 
<a name="l00228"></a>00228 };
<a name="l00229"></a>00229 
<a name="l00231"></a><a class="code" href="classEventHandler.html">00231</a> <span class="keyword">class </span><a class="code" href="classEventHandler.html" title="A Thread that only executes when a given event occurs.">EventHandler</a> : <span class="keyword">public</span> <a class="code" href="classThread.html" title="Provides thread functionality.">Thread</a>
<a name="l00232"></a>00232 {
<a name="l00233"></a>00233 <span class="keyword">public</span>:
<a name="l00234"></a>00234 
<a name="l00236"></a>00236     <a class="code" href="classEventHandler.html#a8fe27b69582cce5c6a89a0b134bc8158" title="Constructor.">EventHandler</a>();
<a name="l00237"></a>00237 
<a name="l00239"></a>00239     <span class="keyword">virtual</span> <a class="code" href="classEventHandler.html#a3decb8cd88ba8af2b9b0b0f0f2fcd722" title="Destructor.">~EventHandler</a>();
<a name="l00240"></a>00240 
<a name="l00241"></a>00241 <span class="keyword">protected</span>:
<a name="l00242"></a>00242 
<a name="l00247"></a>00247     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classEventHandler.html#a413d8613b761d5709a28cf488850d41f" title="Condition to be evaluated on each call to determine whether or not to run the event. The condition will not be checked again until the on_event() function returns false.">condition</a>();
<a name="l00248"></a>00248 
<a name="l00251"></a>00251     <span class="keywordtype">bool</span> <a class="code" href="classEventHandler.html#aa26fb38b478835c3e0e2439f3460a9e5" title="Main loop.">loop</a>();
<a name="l00252"></a>00252 
<a name="l00259"></a>00259     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classEventHandler.html#a1f1b4ac0929b4dc6db3bdc76300dc19f" title="Called when the even occurs.">on_event</a>();
<a name="l00260"></a>00260 
<a name="l00261"></a>00261 <span class="keyword">private</span>:
<a name="l00262"></a>00262 
<a name="l00265"></a><a class="code" href="classEventHandler.html#a449d637ca37aecd81038ab0c98afcfb3">00265</a>     <span class="keywordtype">bool</span> <a class="code" href="classEventHandler.html#a449d637ca37aecd81038ab0c98afcfb3" title="Becomes true when the event occurs; returns to false when the event has been handled.">trigger</a>;
<a name="l00266"></a>00266 
<a name="l00267"></a>00267 };
<a name="l00268"></a>00268 
<a name="l00270"></a><a class="code" href="classSwitchInput.html">00270</a> <span class="keyword">class </span><a class="code" href="classSwitchInput.html" title="Handler for a switch input.">SwitchInput</a> : <span class="keyword">public</span> <a class="code" href="classThread.html" title="Provides thread functionality.">Thread</a>
<a name="l00271"></a>00271 {
<a name="l00272"></a>00272 <span class="keyword">public</span>:
<a name="l00273"></a>00273 
<a name="l00275"></a><a class="code" href="classSwitchInput.html#a6bdf5da6c7ccd0102551bb86ab17354e">00275</a>     <span class="keyword">enum</span> <a class="code" href="classSwitchInput.html#a6bdf5da6c7ccd0102551bb86ab17354e" title="Types of switches.">Type</a> {
<a name="l00276"></a>00276 
<a name="l00278"></a><a class="code" href="classSwitchInput.html#a6bdf5da6c7ccd0102551bb86ab17354ea42a9d4759fa506e1bbe1c284f1026235">00278</a>         <a class="code" href="classSwitchInput.html#a6bdf5da6c7ccd0102551bb86ab17354ea42a9d4759fa506e1bbe1c284f1026235" title="Switch uses the internal pull-up resistor.">pull_up_internal</a>,
<a name="l00279"></a>00279 
<a name="l00281"></a><a class="code" href="classSwitchInput.html#a6bdf5da6c7ccd0102551bb86ab17354ea7263e66e597ec357ae2b71b3d083a143">00281</a>         <a class="code" href="classSwitchInput.html#a6bdf5da6c7ccd0102551bb86ab17354ea7263e66e597ec357ae2b71b3d083a143" title="Switch uses an external pull-up resistor.">pull_up</a>,
<a name="l00282"></a>00282 
<a name="l00284"></a><a class="code" href="classSwitchInput.html#a6bdf5da6c7ccd0102551bb86ab17354eacdef943254b0f9b6fb68bbe48c20c121">00284</a>         <a class="code" href="classSwitchInput.html#a6bdf5da6c7ccd0102551bb86ab17354eacdef943254b0f9b6fb68bbe48c20c121" title="Switch uses an external pull-down resistor.">pull_down</a>
<a name="l00285"></a>00285 
<a name="l00286"></a>00286     };
<a name="l00287"></a>00287 
<a name="l00292"></a>00292     <a class="code" href="classSwitchInput.html#a7dc8f384729be2c55974ecd9826ab399" title="Constructor.">SwitchInput</a>(<span class="keywordtype">int</span> <a class="code" href="classSwitchInput.html#a3db973ee156aac6d49291c7a2ae571bf" title="The pin the switch is connected to.">pin</a>,
<a name="l00293"></a>00293                 <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="classSwitchInput.html#a99e2e9eff8ae5b56f60b0c36b9445a3a" title="The debounce time (in milliseconds).">debounce</a> = <a class="code" href="mthread_8h.html#ae7e5119fbbe968adf287fd16f5fe995d" title="Default switch debounce time.">DEFAULT_DEBOUNCE</a>,
<a name="l00294"></a>00294                 <a class="code" href="classSwitchInput.html#a6bdf5da6c7ccd0102551bb86ab17354e" title="Types of switches.">Type</a> <a class="code" href="classSwitchInput.html#a044e8725b0eb967130b8185b6046f046" title="The type of switch connected.">type</a> = <a class="code" href="classSwitchInput.html#a6bdf5da6c7ccd0102551bb86ab17354ea42a9d4759fa506e1bbe1c284f1026235" title="Switch uses the internal pull-up resistor.">pull_up_internal</a>);
<a name="l00295"></a>00295 
<a name="l00297"></a>00297     <span class="keyword">virtual</span> <a class="code" href="classSwitchInput.html#a07253bc5e562be1f89207d9f96c855bd" title="Destructor.">~SwitchInput</a>();
<a name="l00298"></a>00298 
<a name="l00301"></a>00301     <span class="keywordtype">bool</span> <a class="code" href="classSwitchInput.html#a844f31e617ae420992d6b2ec9340f062" title="Checks to see if the switch is closed.">is_closed</a>() <span class="keyword">const</span>;
<a name="l00302"></a>00302 
<a name="l00305"></a>00305     <span class="keywordtype">bool</span> <a class="code" href="classSwitchInput.html#a6c7973a97659c5a5c72b0c8b017b0e57" title="Checks to see if the switch is open.">is_open</a>() <span class="keyword">const</span>;
<a name="l00306"></a>00306 
<a name="l00308"></a>00308     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classSwitchInput.html#ace9e6c0cb7b9bd8592f1c214acd9199a" title="Called once when the switch closes.">on_close</a>();
<a name="l00309"></a>00309 
<a name="l00311"></a>00311     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classSwitchInput.html#a0e302e0dbe0e2822deae59edd754a46f" title="Called once when the switch opens.">on_open</a>();
<a name="l00312"></a>00312 
<a name="l00316"></a>00316     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="classSwitchInput.html#aba9b551c117cb568a990afda49ab47fa" title="Checks the length of time the switch has been closed.">time_closed</a>() <span class="keyword">const</span>;
<a name="l00317"></a>00317 
<a name="l00321"></a>00321     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="classSwitchInput.html#a6d5473dde08437a082e6bbaeaf685699" title="Checks the length of time the switch has been open.">time_open</a>() <span class="keyword">const</span>;
<a name="l00322"></a>00322 
<a name="l00323"></a>00323 <span class="keyword">protected</span>:
<a name="l00324"></a>00324 
<a name="l00327"></a>00327     <span class="keywordtype">bool</span> <a class="code" href="classSwitchInput.html#ae30133276acf0c6a383844e1f5cdaf18" title="Main loop.">loop</a>();
<a name="l00328"></a>00328 
<a name="l00329"></a>00329 <span class="keyword">private</span>:
<a name="l00330"></a>00330 
<a name="l00332"></a><a class="code" href="classSwitchInput.html#a99e2e9eff8ae5b56f60b0c36b9445a3a">00332</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="classSwitchInput.html#a99e2e9eff8ae5b56f60b0c36b9445a3a" title="The debounce time (in milliseconds).">debounce</a>;
<a name="l00333"></a>00333 
<a name="l00336"></a><a class="code" href="classSwitchInput.html#a52aa5ae06fac47de01065de43191d9bc">00336</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="classSwitchInput.html#a52aa5ae06fac47de01065de43191d9bc" title="The time of the last change (in millisecnods, ignoring debounce).">last_change</a>;
<a name="l00337"></a>00337 
<a name="l00340"></a><a class="code" href="classSwitchInput.html#a382a1c64b5d1c85bc22544ed2459ce61">00340</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="classSwitchInput.html#a382a1c64b5d1c85bc22544ed2459ce61" title="The time of the last change (in milliseconds, after debounce filtering).">last_debounce</a>;
<a name="l00341"></a>00341 
<a name="l00343"></a><a class="code" href="classSwitchInput.html#ae795f8e6096b83411aa5cfc56cc3c575">00343</a>     <span class="keywordtype">int</span> <a class="code" href="classSwitchInput.html#ae795f8e6096b83411aa5cfc56cc3c575" title="The switch&#39;s current value (after debounce filtering).">current_value</a>;
<a name="l00344"></a>00344 
<a name="l00347"></a><a class="code" href="classSwitchInput.html#a52891b03588647087e270c1a9233901f">00347</a>     <span class="keywordtype">int</span> <a class="code" href="classSwitchInput.html#a52891b03588647087e270c1a9233901f" title="The switch&#39;s value on the last read (ignoring debounce).">last_value</a>;
<a name="l00348"></a>00348 
<a name="l00350"></a><a class="code" href="classSwitchInput.html#a3db973ee156aac6d49291c7a2ae571bf">00350</a>     <span class="keywordtype">int</span> <a class="code" href="classSwitchInput.html#a3db973ee156aac6d49291c7a2ae571bf" title="The pin the switch is connected to.">pin</a>;
<a name="l00351"></a>00351 
<a name="l00353"></a><a class="code" href="classSwitchInput.html#a044e8725b0eb967130b8185b6046f046">00353</a>     <a class="code" href="classSwitchInput.html#a6bdf5da6c7ccd0102551bb86ab17354e" title="Types of switches.">Type</a> <a class="code" href="classSwitchInput.html#a044e8725b0eb967130b8185b6046f046" title="The type of switch connected.">type</a>;
<a name="l00354"></a>00354 
<a name="l00355"></a>00355 };
<a name="l00356"></a>00356 
<a name="l00360"></a>00360 <span class="keyword">extern</span> <a class="code" href="classThreadList.html" title="An object for running several Thread objects simultaneously. A ThreadList object is a Thread in and o...">ThreadList</a> *<a class="code" href="mthread_8cpp.html#a899fb29ea45501d2756e506125aa0610" title="A pointer to the main ThreadList. This object will be run in place of the loop function expected in m...">main_thread_list</a>;
<a name="l00361"></a>00361 
<a name="l00362"></a>00362 <span class="preprocessor">#endif  // MTHREAD_H</span>
<a name="l00363"></a>00363 <span class="preprocessor"></span>
<a name="l00364"></a>00364 <span class="comment">// jl</span>
</pre></div></div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Tue Jul 3 2012 14:28:05 for mthread by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
